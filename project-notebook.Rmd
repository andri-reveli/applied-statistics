---
title: "Projekt"
output: html_notebook
author:
    - Anisa Kapri
    - Andri Reveli
    - Dionis Hysko
date: 2021-06-01
---


## Hyrje

Librarite dhe paketat qe do te perdoren ne kete projekt:

```{r}
library(esquisse)
library(ggplot2)
library(reshape)
library(readxl)
library(Rcmdr)

source("clean.R")
source("utils.R")
```




```{r}
# test hi katror per pavaresine e hyrje daljeve nga viti

# read the data
x = read.csv2("datasets/tabela-e-hyrjeve.csv")

## convert to contigency table
#y = as.matrix(data.frame(x$Albania.citizens, x$Foreign.citizens))
#row.names(y) = x$Year
#colnames(y) = c("Shqiptare", "Te huaj")
#y = as.table(y)
print(x)

## chi square test
#chisq.test(y)
```


diagrami

```{r}
to_plot = data.frame(
    Viti = x$Year,
    Shqiptare = x$Albania.citizens,
    Te_huaj = x$Foreign.citizens
)
melted = melt(to_plot, id="Viti")

ggplot(
    melted, 
    aes(x = Viti, y = value, fill = variable)
) + 
    geom_bar(stat="identity",position = "dodge", alpha = 0.5) + 
    labs(y = "Hyrje", title = "Tabela e hyrjeve")
```

INTERPRETIM


```{r}
# read data
hyrje = readXL(
    "/home/andri/projects/applied-statistics/datasets/tab-4.xlsx", 
    rownames=FALSE, 
    header=TRUE, 
    na="", 
    sheet="Sheet 1", 
    stringsAsFactors=TRUE
)

# build data frame for each year
hyrje2016 = build_vector(hyrje, 1, seq(2, 3))
hyrje2017 = build_vector(hyrje, 1, seq(4, 15))
hyrje2018 = build_vector(hyrje, 1, seq(16, 27))
hyrje2019 = build_vector(hyrje, 1, seq(28, 39))
hyrje2020 = build_vector(hyrje, 1, seq(40, 51))
hyrje2021 = build_vector(hyrje, 1, seq(52, 53))

year_based = list(hyrje2016, hyrje2017, hyrje2018, hyrje2019, hyrje2020, hyrje2021)
attributes(year_based) = list(
    names = c("2016", "2017", "2018", "2019", "2020", "2021"),
    row.names=1:max(length(x), length(y)), 
    class='data.frame'
)

# plot
boxplot(year_based)
```

INTERPRETIM

Shenim: Injoro 2016 dhe 2021 sepse ka shume pak te dhena



